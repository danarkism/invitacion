<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invitación Exclusiva | Estudio de Mercado</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #F8F9FA;
            overflow: hidden; /* Prevent scrolling on splash */
        }
        h1, h2, h3 {
            font-family: 'Playfair Display', serif;
        }
        .question-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem 2rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            border-left: 4px solid #007BFF;
            position: relative;
            z-index: 1;
        }
        .splash-bg {
            background: linear-gradient(135deg, #0A2540 0%, #0056b3 100%);
        }
        .splash-content {
            animation: fadeIn 1s ease-in-out;
            position: relative;
            z-index: 1;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .choice-card {
            display: block;
            padding: 1rem;
            border: 2px solid #D1D5DB;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            text-align: center;
        }
        .peer:checked ~ .choice-card {
            border-color: #007BFF;
            background-color: #EFF6FF;
            box-shadow: 0 0 0 2px #007BFF;
        }
        .peer:checked ~ .choice-card .choice-icon {
            opacity: 1;
        }
        .choice-icon {
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
            color: #007BFF;
            font-weight: bold;
        }
        .scale-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.5rem;
        }
        .scale-label {
            display: block;
            cursor: pointer;
            text-align: center;
        }
        .scale-input {
            display: none;
        }
        .scale-box {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border: 2px solid #D1D5DB;
            border-radius: 0.375rem;
            transition: all 0.2s ease-in-out;
        }
        .scale-input:checked + .scale-box {
            background-color: #007BFF;
            color: white;
            border-color: #0056b3;
        }
        .error-message {
            color: #E53E3E;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            display: none;
        }
        .loader {
            width: 24px;
            height: 24px;
            border: 3px solid #FFF;
            border-bottom-color: transparent;
            border-radius: 50%;
            display: inline-block;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
        }
        @keyframes rotation {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .bubble {
            position: fixed;
            background: rgba(0, 123, 255, 0.4);
            border-radius: 50%;
            pointer-events: none;
            box-shadow: 0 0 5px rgba(0, 123, 255, 0.6);
            animation: floatUp 2s ease-out forwards;
            transform-origin: center center;
            z-index: 9999; /* Ensure on-click bubbles are on top */
        }
        @keyframes floatUp {
            from {
                transform: translate(-50%, -50%) scale(1);
                opacity: 1;
            }
            to {
                transform: translate(-50%, -250px) scale(0);
                opacity: 0;
            }
        }
        #bubble-background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Behind all content */
            background: linear-gradient(135deg, #0A2540 0%, #0056b3 100%);
        }
        #bubble-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        .bg-bubble {
            position: absolute;
            bottom: -150px;
            background-color: rgba(255, 255, 255, 0.08);
            border-radius: 50%;
            animation: rise linear infinite;
        }
        @keyframes rise {
            0% {
                transform: translateY(0);
            }
            100% {
                transform: translateY(-120vh);
            }
        }
    </style>
</head>
<body class="text-gray-800">

    <div id="bubble-background-container">
        <div id="bubble-background"></div>
    </div>

    <!-- Splash Screen -->
    <div id="splash-screen" class="fixed inset-0 z-50 flex items-center justify-center bg-transparent transition-opacity duration-500">
        <div class="splash-content text-center text-white p-8 max-w-2xl">
            <div class="mx-auto h-16 w-16 mb-6 border-2 border-blue-400 rounded-full flex items-center justify-center">
                 <svg xmlns="http://www.w3.org/2000/svg" class="h-9 w-9 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">Una Invitación para Mentes Exigentes</h1>
            <p class="text-lg text-gray-300 mb-8">
                Estamos desarrollando un concepto de servicio de un calibre excepcional. Antes de su lanzamiento, buscamos la perspectiva de un grupo selecto de individuos cuya visión puede dar forma al futuro de la excelencia. Esta es una invitación personal. Valoramos profundamente su tiempo y su criterio.
            </p>
            <button id="start-survey-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-transform transform hover:scale-105">
                Iniciar la Consulta
            </button>
        </div>
    </div>

    <!-- Main Content (Survey) -->
    <div id="main-content" class="opacity-0 invisible transition-opacity duration-500 relative z-10 bg-transparent">
        <div id="progress-container" class="sticky top-0 z-50 w-full bg-gray-200 rounded-full h-2.5">
            <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full" style="width: 0%"></div>
        </div>

        <div class="container mx-auto p-4 md:p-8 max-w-3xl">
            <header class="text-center mb-8 bg-white/90 backdrop-blur-sm p-6 rounded-lg shadow-md">
                <h1 class="text-3xl md:text-4xl font-bold text-[#0A2540] mb-2">Ayúdanos a Redefinir el Cuidado del Hogar</h1>
                <p class="text-md text-gray-600">Sabemos que tu hogar es tu santuario y que tu tiempo es el recurso más valioso. Por eso, queremos entender qué es lo que realmente importa a la hora de buscar ayuda para cuidarlo. Estamos en una misión para crear una nueva experiencia de servicio en la región, basada en la confianza absoluta y la excelencia. Tu opinión es fundamental. Esta encuesta es anónima y te tomará menos de 8 minutos. ¡Gracias por ayudarnos a construir algo mejor!</p>
            </header>

            <form id="surveyForm">
                 <!-- Contenido del formulario... -->
                 <div class="question-card">
                    <fieldset>
                        <legend class="font-bold text-lg mb-4">1. Pensando en servicios de limpieza para tu hogar, ¿cuál opción describe mejor tu situación actual?</legend>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <label>
                                <input type="radio" name="situacion_actual" value="No contrato, pero me interesa" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">No contrato, pero me interesa</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="situacion_actual" value="Contrato ocasionalmente" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Contrato ocasionalmente</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="situacion_actual" value="Contrato regularmente" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Contrato regularmente</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="situacion_actual" value="No contrato, no me interesa" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">No contrato y no me interesa</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                        </div>
                        <p class="error-message">Por favor, selecciona una opción.</p>
                    </fieldset>
                </div>

                <div class="question-card">
                    <fieldset>
                        <legend class="font-bold text-lg mb-4">2. Al considerar contratar a alguien para la limpieza de tu hogar, ¿cuál es tu <strong>principal</strong> preocupación?</legend>
                         <div class="grid grid-cols-1 gap-3">
                            <label>
                                <input type="radio" name="principal_preocupacion" value="Confianza y seguridad" class="sr-only peer">
                                <div class="choice-card text-left flex items-center justify-between">
                                    <span>Confianza y seguridad (saber quién entra a mi casa)</span>
                                    <span class="choice-icon">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="principal_preocupacion" value="Calidad del servicio" class="sr-only peer">
                                <div class="choice-card text-left flex items-center justify-between">
                                    <span>La calidad y consistencia del servicio</span>
                                    <span class="choice-icon">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="principal_preocupacion" value="Puntualidad" class="sr-only peer">
                                <div class="choice-card text-left flex items-center justify-between">
                                    <span>La puntualidad y el cumplimiento de horarios</span>
                                    <span class="choice-icon">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="principal_preocupacion" value="Disponibilidad" class="sr-only peer">
                                <div class="choice-card text-left flex items-center justify-between">
                                    <span>La disponibilidad en los días y horas que necesito</span>
                                    <span class="choice-icon">✔</span>
                                </div>
                            </label>
                             <label>
                                <input type="radio" name="principal_preocupacion" value="Precio" class="sr-only peer">
                                <div class="choice-card text-left flex items-center justify-between">
                                    <span>El precio del servicio</span>
                                    <span class="choice-icon">✔</span>
                                </div>
                            </label>
                        </div>
                         <p class="error-message">Por favor, selecciona una opción.</p>
                    </fieldset>
                </div>
    
                <div class="question-card">
                     <fieldset>
                        <legend class="font-bold text-lg mb-4">3. De la siguiente lista, por favor selecciona <strong>TODOS</strong> los factores que consideras importantes.</legend>
                        <div class="grid grid-cols-1 gap-3">
                            <label>
                                <input type="checkbox" name="factores_importantes" value="Verificacion de antecedentes" class="sr-only peer">
                                <div class="choice-card text-left flex items-center justify-between">
                                    <span>Que el personal tenga verificación de antecedentes</span>
                                    <span class="choice-icon">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="checkbox" name="factores_importantes" value="Garantia de calidad" class="sr-only peer">
                                <div class="choice-card text-left flex items-center justify-between">
                                    <span>La garantía de un servicio de alta calidad</span>
                                    <span class="choice-icon">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="checkbox" name="factores_importantes" value="Precio competitivo" class="sr-only peer">
                                <div class="choice-card text-left flex items-center justify-between">
                                    <span>Un precio competitivo y justo</span>
                                    <span class="choice-icon">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="checkbox" name="factores_importantes" value="Facilidad para agendar" class="sr-only peer">
                                <div class="choice-card text-left flex items-center justify-between">
                                    <span>Facilidad para agendar y disponibilidad de horarios</span>
                                    <span class="choice-icon">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="checkbox" name="factores_importantes" value="Seguro o respaldo legal" class="sr-only peer">
                                <div class="choice-card text-left flex items-center justify-between">
                                    <span>Que el servicio cuente con un seguro o respaldo legal</span>
                                    <span class="choice-icon">✔</span>
                                </div>
                            </label>
                        </div>
                         <p class="error-message">Por favor, selecciona al menos una opción.</p>
                    </fieldset>
                </div>
    
                <div class="question-card">
                    <p class="text-sm bg-blue-50 p-3 rounded-md mb-4 text-gray-700"><strong>Imagina esto:</strong> Una plataforma (app y web) que te conecta con profesionales de limpieza que han pasado por un riguroso proceso de <strong>certificación</strong> (verificación de antecedentes, pruebas de habilidades y capacitación continua).</p>
                    <fieldset>
                        <legend class="font-bold text-lg mb-4">4. En una escala del 1 (Nada importante) al 10 (Extremadamente importante), ¿qué tan importante sería para ti que el profesional esté certificado?</legend>
                        <div id="scale-importancia" class="scale-container"></div>
                        <p class="error-message">Por favor, selecciona una calificación.</p>
                    </fieldset>
                </div>
                
                <div class="question-card">
                     <fieldset>
                        <legend class="font-bold text-lg mb-4">5. En una escala del 1 (Nada probable) al 10 (Totalmente probable), ¿qué tan probable sería que utilizaras un servicio con estas características?</legend>
                        <div id="scale-probabilidad" class="scale-container"></div>
                        <p class="error-message">Por favor, selecciona una calificación.</p>
                    </fieldset>
                </div>
    
                 <div class="question-card">
                     <fieldset>
                        <legend class="font-bold text-lg mb-4">6. Considerando que este servicio te ofrece máxima seguridad y calidad garantizada, ¿cuánto estarías dispuesto/a a pagar por hora?</legend>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <label>
                                <input type="radio" name="precio_hora" value="150-200 MXN" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Entre $150 y $200</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="precio_hora" value="201-300 MXN" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Entre $201 y $300</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="precio_hora" value="301-400 MXN" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Entre $301 y $400</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="precio_hora" value="401-500 MXN" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Entre $401 y $500</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label class="sm:col-span-2">
                                 <input type="radio" name="precio_hora" value="Más de 500 MXN" class="sr-only peer">
                                 <div class="choice-card">
                                    <span class="font-semibold">Más de $500</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                        </div>
                        <p class="error-message">Por favor, selecciona una opción.</p>
                    </fieldset>
                </div>
                
                <div class="question-card">
                     <fieldset>
                        <legend class="font-bold text-lg mb-4">7. Idealmente, ¿con qué frecuencia te gustaría recibir este servicio?</legend>
                         <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <label>
                                <input type="radio" name="frecuencia" value="Quincenalmente" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Quincenalmente</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="frecuencia" value="Semanalmente" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Semanalmente</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="frecuencia" value="Mensualmente" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Mensualmente</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="frecuencia" value="2 o 3 veces por semana" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">2 o 3 veces por semana</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                        </div>
                        <p class="error-message">Por favor, selecciona una opción.</p>
                    </fieldset>
                </div>
                
                <div class="question-card">
                     <fieldset>
                        <legend class="font-bold text-lg mb-4">8. ¿Qué canal o medio preferirías para agendar, pagar y gestionar tus servicios?</legend>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <label>
                                <input type="radio" name="canal_preferido" value="App movil" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Aplicación móvil (App)</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="canal_preferido" value="WhatsApp" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">WhatsApp</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="canal_preferido" value="Sitio web" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Sitio web</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="canal_preferido" value="Llamada telefonica" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Llamada telefónica</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                        </div>
                        <p class="error-message">Por favor, selecciona una opción.</p>
                    </fieldset>
                </div>
    
                <div class="question-card">
                     <p class="text-sm text-gray-600 mb-4">Finalmente, nos gustaría conocerte un poco mejor. Esta información es solo para fines estadísticos.</p>
                     <fieldset>
                        <legend class="font-bold text-lg mb-4">9. ¿En qué ciudad resides?</legend>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <label>
                                <input type="radio" name="ciudad" value="Merida" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Mérida</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="ciudad" value="San Francisco de Campeche" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">San Francisco de Campeche</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                        </div>
                        <p class="error-message">Por favor, selecciona una opción.</p>
                    </fieldset>
                </div>
                
                <div class="question-card">
                     <fieldset>
                        <legend class="font-bold text-lg mb-4">10. ¿Cuál es tu rango de edad?</legend>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <label>
                                <input type="radio" name="edad" value="25-34" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">25 - 34 años</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="edad" value="35-44" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">35 - 44 años</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="edad" value="45-55" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">45 - 55 años</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                        </div>
                        <p class="error-message">Por favor, selecciona una opción.</p>
                    </fieldset>
                </div>
                
                <div class="question-card">
                     <fieldset>
                        <legend class="font-bold text-lg mb-4">11. ¿Cuál es tu ocupación principal?</legend>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <label>
                                <input type="radio" name="ocupacion" value="Empleado de oficina" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Empleado/a de oficina</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="ocupacion" value="Profesionista independiente" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Profesionista independiente</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="ocupacion" value="Empresario o dueno de negocio" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Empresario/a</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="ocupacion" value="Otro" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Otro</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                        </div>
                        <p class="error-message">Por favor, selecciona una opción.</p>
                    </fieldset>
                </div>
    
                <div class="question-card">
                     <fieldset>
                        <legend class="font-bold text-lg mb-4">12. ¿Cuál es el ingreso mensual aproximado de tu hogar?</legend>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <label>
                                <input type="radio" name="ingreso_hogar" value="Menos de 15,001 MXN" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Menos de $15,001</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="ingreso_hogar" value="15k-25k MXN" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">$15,001 - $25,000</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="ingreso_hogar" value="25k-40k MXN" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">$25,001 - $40,000</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                            <label>
                                <input type="radio" name="ingreso_hogar" value="Más de 40k MXN" class="sr-only peer">
                                <div class="choice-card">
                                    <span class="font-semibold">Más de $40,000</span>
                                    <span class="choice-icon block mt-1">✔</span>
                                </div>
                            </label>
                        </div>
                        <p class="error-message">Por favor, selecciona una opción.</p>
                    </fieldset>
                </div>
                <div id="submission-area" class="mt-8 text-center">
                    <button type="submit" id="submit-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-colors duration-300">
                        Enviar Mis Respuestas
                    </button>
                    <p id="form-status" class="mt-4 text-sm"></p>
                </div>
            </form>
            <div id="thank-you-message" class="hidden text-center bg-white p-8 rounded-lg shadow-lg mt-8 border-l-4 border-green-500">
                <h2 class="text-2xl font-bold text-[#0A2540]">¡Muchísimas gracias!</h2>
                <p class="text-gray-600 mt-2 mb-6">Hemos recibido tus respuestas. Tu participación es clave para construir un servicio mejor y más seguro para todos.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const splashScreen = document.getElementById('splash-screen');
            const mainContent = document.getElementById('main-content');
            const startBtn = document.getElementById('start-survey-btn');
            const form = document.getElementById('surveyForm');
            const status = document.getElementById('form-status');
            const submitBtn = document.getElementById('submit-btn');
            const thankYouMessage = document.getElementById('thank-you-message');
            const submissionArea = document.getElementById('submission-area');
            const progressBar = document.getElementById('progress-bar');
            
            const FORM_ENDPOINT = 'https://formspree.io/f/mblzyvlg';
            
            const questionCards = form.querySelectorAll('.question-card');
            const totalQuestions = questionCards.length;
            let answeredQuestions = new Set();
            
            startBtn.addEventListener('click', () => {
                splashScreen.classList.add('opacity-0', 'invisible');
                mainContent.classList.remove('opacity-0', 'invisible');
                document.body.style.overflow = 'auto';
                if(splashScreen) {
                    setTimeout(() => {
                        splashScreen.style.display = 'none';
                    }, 500);
                }
                 // Adjust main content background for survey
                const bgContainer = document.getElementById('bubble-background-container');
                if (bgContainer) {
                    bgContainer.style.background = '#F8F9FA';
                }
            });

            function createBubble(e) {
                const clickableArea = e.currentTarget;
                const rect = clickableArea.getBoundingClientRect();

                for (let i = 0; i < 5; i++) {
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble';
                    document.body.appendChild(bubble);

                    const size = Math.random() * 40 + 10;
                    const x = e.clientX + (Math.random() - 0.5) * rect.width;
                    const y = e.clientY + (Math.random() - 0.5) * rect.height * 0.5;

                    bubble.style.width = `${size}px`;
                    bubble.style.height = `${size}px`;
                    bubble.style.left = `${x}px`;
                    bubble.style.top = `${y}px`;

                    bubble.style.animationDuration = `${Math.random() * 1 + 1.5}s`;

                    setTimeout(() => {
                        bubble.remove();
                    }, 2500);
                }
            }
            
            function generateScale(containerId, name) {
                const container = document.getElementById(containerId);
                if (!container) return;
                let scaleHTML = '';
                for (let i = 1; i <= 10; i++) {
                    scaleHTML += `
                        <label class="scale-label">
                            <input type="radio" name="${name}" value="${i}" class="scale-input">
                            <div class="scale-box">${i}</div>
                        </label>
                    `;
                }
                container.innerHTML = scaleHTML;
            }
            
            function createBgBubbles() {
                const bubbleBackground = document.getElementById('bubble-background');
                if (!bubbleBackground) return;
                const numberOfBubbles = 25;
                for (let i = 0; i < numberOfBubbles; i++) {
                    const bubbleEl = document.createElement('div');
                    bubbleEl.className = 'bg-bubble';
                    
                    const size = Math.random() * (100 - 15) + 15;
                    const duration = Math.random() * (35 - 15) + 15;
                    const delay = Math.random() * 10;
                    const position = Math.random() * 100;

                    bubbleEl.style.width = `${size}px`;
                    bubbleEl.style.height = `${size}px`;
                    bubbleEl.style.left = `${position}%`;
                    bubbleEl.style.animationDuration = `${duration}s`;
                    bubbleEl.style.animationDelay = `-${delay}s`;

                    bubbleBackground.appendChild(bubbleEl);
                }
            }

            generateScale('scale-importancia', 'importancia_certificacion');
            generateScale('scale-probabilidad', 'probabilidad_uso');
            
            function updateProgressBar() {
                answeredQuestions.clear();
                questionCards.forEach((card, index) => {
                    const inputs = card.querySelectorAll('input[type="radio"], input[type="checkbox"]');
                    let isAnswered = false;
                    inputs.forEach(input => {
                        if ((input.type === 'radio' && input.checked) || (input.type === 'checkbox' && input.checked)) {
                            isAnswered = true;
                        }
                    });
                    if (isAnswered) {
                       answeredQuestions.add(index);
                    }
                });
                const progress = (answeredQuestions.size / totalQuestions) * 100;
                progressBar.style.width = `${progress}%`;
            }

            form.addEventListener('change', updateProgressBar);
            
            function validateForm() {
                let isValid = true;
                questionCards.forEach(card => {
                    const inputs = card.querySelectorAll('input[type="radio"], input[type="checkbox"]');
                    const errorMsg = card.querySelector('.error-message');
                    let isAnswered = false;
                    inputs.forEach(input => {
                        if (input.checked) isAnswered = true;
                    });
                    if (!isAnswered) {
                        isValid = false;
                        errorMsg.style.display = 'block';
                    } else {
                        errorMsg.style.display = 'none';
                    }
                });
                return isValid;
            }

            form.addEventListener('submit', function (e) {
                e.preventDefault();

                if (!validateForm()) {
                    status.textContent = 'Por favor, responde todas las preguntas antes de enviar.';
                    status.style.color = '#E53E3E';
                    return;
                }

                const formData = new FormData(form);
                submitBtn.disabled = true;
                submitBtn.textContent = 'Enviando...';
                status.textContent = '';

                fetch(FORM_ENDPOINT, {
                    method: 'POST',
                    body: formData,
                    headers: {'Accept': 'application/json'}
                }).then(async response => {
                    if (response.ok) {
                        form.style.display = 'none';
                        submissionArea.style.display = 'none';
                        thankYouMessage.style.display = 'block';
                        document.getElementById('progress-container').style.display = 'none';
                    } else {
                        response.json().then(data => {
                            if (Object.hasOwn(data, 'errors')) {
                                status.textContent = data["errors"].map(error => error["message"]).join(", ");
                            } else {
                                status.textContent = 'Oops! Hubo un problema al enviar tu encuesta.';
                            }
                            submitBtn.disabled = false;
                            submitBtn.textContent = 'Enviar Mis Respuestas';
                            status.style.color = '#E53E3E';
                        })
                    }
                }).catch(error => {
                    status.textContent = 'Oops! Hubo un problema de conexión.';
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Enviar Mis Respuestas';
                    status.style.color = '#E53E3E';
                });
            });
            
            const clickableOptions = form.querySelectorAll('label');
            clickableOptions.forEach(option => {
                option.addEventListener('click', createBubble);
            });
            
            createBgBubbles();
            updateProgressBar();
        });
    </script>
</body>
</html>
